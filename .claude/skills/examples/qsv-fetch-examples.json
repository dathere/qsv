{
  "skill": "qsv-fetch",
  "version": "12.0.0",
  "examples": [
    {
      "name": "fetchpost_disk_cache",
      "description": "Fetchpost Disk Cache",
      "input": {
        "data": [
          [
            "URL",
            "col1"
          ],
          [
            "https://httpbin.org/post",
            "test"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv fetchpost URL col1 --jaq data.csv",
      "args": [
        "URL",
        "col1"
      ],
      "options": {
        "--jaq": "data.csv"
      }
    },
    {
      "name": "test_fetch_jaq_invalid_json",
      "description": "Test Fetch Jaq Invalid Json",
      "input": {
        "data": [
          [
            "URL"
          ],
          [
            "<!doctype html><html lang=\\\"en\\\"><meta charset=utf-8><title>shortest \\\n                 html5</title>"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv fetch URL --new-column result --jaq data.csv",
      "args": [
        "URL"
      ],
      "options": {
        "--new-column": "result",
        "--jaq": "data.csv"
      },
      "expected": {
        "data": [
          [
            "URL",
            "result"
          ],
          [
            "<!doctype html><html lang=\\\"en\\\"><meta charset=utf-8><title>shortest html5</title>",
            ""
          ]
        ]
      }
    },
    {
      "name": "test_fetch_jaq_invalid_selector",
      "description": "Test Fetch Jaq Invalid Selector",
      "input": {
        "data": [
          [
            "URL"
          ],
          [
            "https://api.zippopotam.us/us/90210"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv fetch URL --new-column result --jaq data.csv",
      "args": [
        "URL"
      ],
      "options": {
        "--new-column": "result",
        "--jaq": "data.csv"
      },
      "expected": {
        "data": [
          [
            "URL",
            "result"
          ],
          [
            "https://api.zippopotam.us/us/90210",
            ""
          ]
        ]
      }
    },
    {
      "name": "test_fetch_jaq_number",
      "description": "Test Fetch Jaq Number",
      "input": {
        "data": [
          [
            "URL"
          ],
          [
            "https://api.zippopotam.us/us/90210"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv fetch URL --new-column longitude --jaq data.csv",
      "args": [
        "URL"
      ],
      "options": {
        "--new-column": "longitude",
        "--jaq": "data.csv"
      },
      "expected": {
        "data": [
          [
            "URL",
            "longitude"
          ],
          [
            "https://api.zippopotam.us/us/90210",
            "\\\"-118.4065\\"
          ]
        ]
      }
    },
    {
      "name": "test_fetch_jaq_array",
      "description": "Test Fetch Jaq Array",
      "input": {
        "data": [
          [
            "URL"
          ],
          [
            "https://api.zippopotam.us/us/90210"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv fetch URL --new-column coordinates --jaq data.csv",
      "args": [
        "URL"
      ],
      "options": {
        "--new-column": "coordinates",
        "--jaq": "data.csv"
      }
    }
  ]
}