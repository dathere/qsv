{
  "skill": "qsv-replace",
  "version": "12.0.0",
  "examples": [
    {
      "name": "replace",
      "description": "Replace",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yellow.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\.0$\" data.csv",
      "args": [
        "\\\\.0$",
        "data.csv"
      ],
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164",
            "yellow"
          ],
          [
            "165",
            "yellow"
          ],
          [
            "166",
            "yellow"
          ],
          [
            "167",
            "yellow"
          ]
        ]
      }
    },
    {
      "name": "replace_regex_literal",
      "description": "Replace Regex Literal",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yel$low^"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yel$low^.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"$low^\" low --literal data.csv",
      "args": [
        "$low^",
        "low"
      ],
      "options": {
        "--literal": "data.csv"
      },
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yellow.0"
          ]
        ]
      }
    },
    {
      "name": "replace_match",
      "description": "Replace Match",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yellow.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\.0$\" data.csv",
      "args": [
        "\\\\.0$",
        "data.csv"
      ]
    },
    {
      "name": "replace_nomatch",
      "description": "Replace Nomatch",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.5",
            "yellow"
          ],
          [
            "165.6",
            "yellow"
          ],
          [
            "166.7",
            "yellow"
          ],
          [
            "167.8",
            "yellow.1"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\.0$\" data.csv",
      "args": [
        "\\\\.0$",
        "data.csv"
      ]
    },
    {
      "name": "replace_nomatch_notone",
      "description": "Replace Nomatch Notone",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.5",
            "yellow"
          ],
          [
            "165.6",
            "yellow"
          ],
          [
            "166.7",
            "yellow"
          ],
          [
            "167.8",
            "yellow.1"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\.0$\" data.csv --not-one",
      "args": [
        "\\\\.0$",
        "data.csv"
      ],
      "options": {
        "--not-one": "true"
      }
    },
    {
      "name": "replace_null",
      "description": "Replace Null",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yellow.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\.0$\" \"<NULL>\" data.csv",
      "args": [
        "\\\\.0$",
        "<NULL>",
        "data.csv"
      ],
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164",
            "yellow"
          ],
          [
            "165",
            "yellow"
          ],
          [
            "166",
            "yellow"
          ],
          [
            "167",
            "yellow"
          ]
        ]
      }
    },
    {
      "name": "replace_unicode",
      "description": "Replace Unicode",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "ŷellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellѳwish"
          ],
          [
            "167.0",
            "yelloψ"
          ],
          [
            "167.0",
            "belloψ"
          ],
          [
            "167.0",
            "bellowish"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"[\\\\\\\\s\\\\\\\\S]ell[\\\\\\\\s\\\\\\\\S]w\" Ƀellow --unicode data.csv",
      "args": [
        "[\\\\s\\\\S]ell[\\\\s\\\\S]w",
        "Ƀellow"
      ],
      "options": {
        "--unicode": "data.csv"
      },
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "Ƀellow"
          ],
          [
            "165.0",
            "Ƀellow"
          ],
          [
            "166.0",
            "Ƀellowish"
          ],
          [
            "167.0",
            "yelloψ"
          ],
          [
            "167.0",
            "belloψ"
          ],
          [
            "167.0",
            "Ƀellowish"
          ]
        ]
      },
      "tags": [
        "unicode"
      ]
    },
    {
      "name": "replace_unicode_envvar",
      "description": "Replace Unicode Envvar",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "ŷellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellѳwish"
          ],
          [
            "167.0",
            "yelloψ"
          ],
          [
            "167.0",
            "belloψ"
          ],
          [
            "167.0",
            "bellowish"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"[\\\\\\\\s\\\\\\\\S]ell[\\\\\\\\s\\\\\\\\S]w\" Ƀellow data.csv",
      "args": [
        "[\\\\s\\\\S]ell[\\\\s\\\\S]w",
        "Ƀellow",
        "data.csv"
      ],
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "Ƀellow"
          ],
          [
            "165.0",
            "Ƀellow"
          ],
          [
            "166.0",
            "Ƀellowish"
          ],
          [
            "167.0",
            "yelloψ"
          ],
          [
            "167.0",
            "belloψ"
          ],
          [
            "167.0",
            "Ƀellowish"
          ]
        ]
      },
      "tags": [
        "unicode"
      ]
    },
    {
      "name": "replace_no_headers",
      "description": "Replace No Headers",
      "input": {
        "data": [
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yellow.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\.0$\" data.csv --select 1",
      "args": [
        "\\\\.0$",
        "data.csv"
      ],
      "options": {
        "--select": "1"
      },
      "expected": {
        "data": [
          [
            "164",
            "yellow"
          ],
          [
            "165",
            "yellow"
          ],
          [
            "166",
            "yellow"
          ],
          [
            "167",
            "yellow.0"
          ]
        ]
      },
      "tags": [
        "no-headers"
      ]
    },
    {
      "name": "replace_select",
      "description": "Replace Select",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yellow.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\.0$\" data.csv --select identifier",
      "args": [
        "\\\\.0$",
        "data.csv"
      ],
      "options": {
        "--select": "identifier"
      },
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164",
            "yellow"
          ],
          [
            "165",
            "yellow"
          ],
          [
            "166",
            "yellow"
          ],
          [
            "167",
            "yellow.0"
          ]
        ]
      }
    },
    {
      "name": "replace_groups",
      "description": "Replace Groups",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "yellow"
          ],
          [
            "167.0",
            "yellow.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"\\\\\\\\d+(\\\\\\\\d)\\\\\\\\.0$\" \"$1\" data.csv --select identifier",
      "args": [
        "\\\\d+(\\\\d)\\\\.0$",
        "$1",
        "data.csv"
      ],
      "options": {
        "--select": "identifier"
      },
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "4",
            "yellow"
          ],
          [
            "5",
            "yellow"
          ],
          [
            "6",
            "yellow"
          ],
          [
            "7",
            "yellow.0"
          ]
        ]
      }
    },
    {
      "name": "replace_exact",
      "description": "Replace Exact",
      "input": {
        "data": [
          [
            "id",
            "name"
          ],
          [
            "1",
            "JM Bloggs"
          ],
          [
            "2",
            "F. J. Bloggs"
          ],
          [
            "3",
            "J. Bloggs"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"John Bloggs\" data.csv --exact \"J. Bloggs\"",
      "args": [
        "John Bloggs",
        "data.csv"
      ],
      "options": {
        "--exact": "J. Bloggs"
      },
      "expected": {
        "data": [
          [
            "id",
            "name"
          ],
          [
            "1",
            "JM Bloggs"
          ],
          [
            "2",
            "F. J. Bloggs"
          ],
          [
            "3",
            "John Bloggs"
          ]
        ]
      }
    },
    {
      "name": "replace_exact_with_special_chars",
      "description": "Replace Exact With Special Chars",
      "input": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yel$low^"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "$low^"
          ],
          [
            "167.0",
            "yel$low^.0"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace yellow data.csv --exact \"yel$low^\"",
      "args": [
        "yellow",
        "data.csv"
      ],
      "options": {
        "--exact": "yel$low^"
      },
      "expected": {
        "data": [
          [
            "identifier",
            "color"
          ],
          [
            "164.0",
            "yellow"
          ],
          [
            "165.0",
            "yellow"
          ],
          [
            "166.0",
            "$low^"
          ],
          [
            "167.0",
            "yel$low^.0"
          ]
        ]
      }
    },
    {
      "name": "replace_exact_no_substring_match",
      "description": "Replace Exact No Substring Match",
      "input": {
        "data": [
          [
            "id",
            "name"
          ],
          [
            "1",
            "JM Bloggs"
          ],
          [
            "2",
            "F. J. Bloggs"
          ],
          [
            "3",
            "J. Bloggs"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace REPLACED data.csv --exact \"J. Bloggs\"",
      "args": [
        "REPLACED",
        "data.csv"
      ],
      "options": {
        "--exact": "J. Bloggs"
      },
      "expected": {
        "data": [
          [
            "id",
            "name"
          ],
          [
            "1",
            "JM Bloggs"
          ],
          [
            "2",
            "F. J. Bloggs"
          ],
          [
            "3",
            "REPLACED"
          ]
        ]
      }
    },
    {
      "name": "replace_exact_case_insensitive",
      "description": "Replace Exact Case Insensitive",
      "input": {
        "data": [
          [
            "id",
            "name"
          ],
          [
            "1",
            "JM Bloggs"
          ],
          [
            "2",
            "F. J. Bloggs"
          ],
          [
            "3",
            "J. Bloggs"
          ],
          [
            "4",
            "j. bloggs"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"John Bloggs\" data.csv --ignore-case \"j. bloggs\"",
      "args": [
        "John Bloggs",
        "data.csv"
      ],
      "options": {
        "--ignore-case": "j. bloggs"
      },
      "expected": {
        "data": [
          [
            "id",
            "name"
          ],
          [
            "1",
            "JM Bloggs"
          ],
          [
            "2",
            "F. J. Bloggs"
          ],
          [
            "3",
            "John Bloggs"
          ],
          [
            "4",
            "John Bloggs"
          ]
        ]
      },
      "tags": [
        "case-sensitivity"
      ]
    },
    {
      "name": "replace_exact_with_select",
      "description": "Replace Exact With Select",
      "input": {
        "data": [
          [
            "id",
            "name",
            "email"
          ],
          [
            "1",
            "test",
            "test@example.com"
          ],
          [
            "2",
            "test",
            "other@example.com"
          ],
          [
            "3",
            "testing",
            "test@example.com"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace test REPLACED data.csv --select name",
      "args": [
        "test",
        "REPLACED",
        "data.csv"
      ],
      "options": {
        "--select": "name"
      },
      "expected": {
        "data": [
          [
            "id",
            "name",
            "email"
          ],
          [
            "1",
            "REPLACED",
            "test@example.com"
          ],
          [
            "2",
            "REPLACED",
            "other@example.com"
          ],
          [
            "3",
            "testing",
            "test@example.com"
          ]
        ]
      }
    },
    {
      "name": "replace_all_emails_with_placeholder",
      "description": "Replace All Emails With Placeholder",
      "input": {
        "data": [
          [
            "email"
          ],
          [
            "test@example.com"
          ],
          [
            "other@example.com"
          ],
          [
            "test@example.com"
          ],
          [
            "NOT an email"
          ],
          [
            "johm.doe@gmail.org"
          ],
          [
            "jane.doe+amazon@gmail.com"
          ],
          [
            "hello world"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv replace \"<EMAIL>\" data.csv",
      "args": [
        "<EMAIL>",
        "data.csv"
      ],
      "expected": {
        "data": [
          [
            "email"
          ],
          [
            "<EMAIL>"
          ],
          [
            "<EMAIL>"
          ],
          [
            "<EMAIL>"
          ],
          [
            "NOT an email"
          ],
          [
            "<EMAIL>"
          ],
          [
            "<EMAIL>"
          ],
          [
            "hello world"
          ]
        ]
      }
    },
    {
      "name": "replace_indexed_parallel",
      "description": "Replace Indexed Parallel",
      "command": "qsv replace Police Pulisya data.csv data.csv Police Pulisya data.csv --jobs 2",
      "args": [
        "Police",
        "Pulisya",
        "data.csv",
        "data.csv",
        "Police",
        "Pulisya",
        "data.csv"
      ],
      "options": {
        "--jobs": "2"
      },
      "expected": {
        "data": [
          [
            "Unique Key",
            "Created Date",
            "Closed Date",
            "Agency",
            "Agency Name",
            "Complaint Type",
            "Descriptor",
            "Location Type",
            "Incident Zip",
            "Incident Address",
            "Street Name",
            "Cross Street 1",
            "Cross Street 2",
            "Intersection Street 1",
            "Intersection Street 2",
            "Address Type",
            "City",
            "Landmark",
            "Facility Type",
            "Status",
            "Due Date",
            "Resolution Description",
            "Resolution Action Updated Date",
            "Community Board",
            "BBL",
            "Borough",
            "X Coordinate (State Plane)",
            "Y Coordinate (State Plane)",
            "Open Data Channel Type",
            "Park Facility Name",
            "Park Borough",
            "Vehicle Type",
            "Taxi Company Borough",
            "Taxi Pick Up Location",
            "Bridge Highway Name",
            "Bridge Highway Direction",
            "Road Ramp",
            "Bridge Highway Segment",
            "Latitude",
            "Longitude",
            "Location"
          ],
          [
            "34675190",
            "10/31/2016 11:07:15 PM",
            "10/31/2016 11:25:37 PM",
            "NYPD",
            "New York City Pulisya Department",
            "Noise - Residential",
            "Banging/Pounding",
            "Residential Building/House",
            "10035",
            "117 EAST 118 STREET",
            "EAST 118 STREET",
            "PARK AVENUE",
            "LEXINGTON AVENUE",
            "",
            "",
            "ADDRESS",
            "NEW YORK",
            "",
            "Precinct",
            "Closed",
            "11/01/2016 07:07:15 AM",
            "The Pulisya Department responded to the complaint and determined that police action \\\n             was not necessary.",
            "10/31/2016 11:25:37 PM",
            "11 MANHATTAN",
            "1017670005",
            "MANHATTAN",
            "1000445",
            "230851",
            "MOBILE",
            "Unspecified",
            "MANHATTAN",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "40.8002938",
            "-73.9415055",
            "(40.8002938",
            "-73.9415055)"
          ],
          [
            "42096612",
            "03/30/2019 04:06:23 AM",
            "03/30/2019 04:15:23 AM",
            "NYPD",
            "New York City Pulisya Department",
            "Noise - Residential",
            "Banging/Pounding",
            "Residential Building/House",
            "10025",
            "4 WEST 105 STREET",
            "WEST 105 STREET",
            "CENTRAL PARK WEST",
            "MANHATTAN AVENUE",
            "",
            "",
            "ADDRESS",
            "NEW YORK",
            "",
            "Precinct",
            "Closed",
            "03/30/2019 12:06:23 PM",
            "The Pulisya Department responded to the complaint and with the information available \\\n             observed no evidence of the violation at that time.",
            "03/30/2019 04:15:23 AM",
            "07 MANHATTAN",
            "1018400037",
            "MANHATTAN",
            "995106",
            "229820",
            "ONLINE",
            "Unspecified",
            "MANHATTAN",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "40.7974721",
            "-73.960791",
            "(40.7974721",
            "-73.960791)"
          ],
          [
            "20520945",
            "05/27/2011 12:00:00 AM",
            "",
            "HPD",
            "Department of Housing Preservation and Development",
            "PAINT - PLASTER",
            "WALLS",
            "RESIDENTIAL BUILDING",
            "11225",
            "1700 BEDFORD AVENUE",
            "BEDFORD AVENUE",
            "MONTGOMERY STREET",
            "SULLIVAN PLACE",
            "",
            "",
            "ADDRESS",
            "BROOKLYN",
            "",
            "N/A",
            "Open",
            "",
            "The following complaint conditions are still open.HPD may attempt to contact you to \\\n             verify the correction of the condition or may conduct an inspection.",
            "06/15/2011 12:00:00 AM",
            "09 BROOKLYN",
            "3013020001",
            "BROOKLYN",
            "996197",
            "181752",
            "UNKNOWN",
            "Unspecified",
            "BROOKLYN",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            ""
          ],
          [
            "39773697",
            "07/18/2018 11:10:04 AM",
            "07/18/2018 11:53:46 PM",
            "NYPD",
            "New York City Pulisya Department",
            "Noise - Street/Sidewalk",
            "Loud Talking",
            "Street/Sidewalk",
            "11373",
            "48-10 91 PLACE",
            "91 PLACE",
            "48 AVENUE",
            "50 AVENUE",
            "",
            "",
            "ADDRESS",
            "ELMHURST",
            "",
            "Precinct",
            "Closed",
            "07/18/2018 07:10:04 PM",
            "The Pulisya Department reviewed your complaint and provided additional information \\\n             below.",
            "07/18/2018 11:53:46 PM",
            "04 QUEENS",
            "4018500012",
            "QUEENS",
            "1019446",
            "209453",
            "MOBILE",
            "Unspecified",
            "QUEENS",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "40.7415066",
            "-73.8729882",
            "(40.7415066",
            "-73.8729882)"
          ],
          [
            "47976463",
            "10/25/2020 01:19:00 PM",
            "10/26/2020 02:30:00 AM",
            "DEP",
            "Department of Environmental Protection",
            "Water System",
            "Hydrant Leaking (WC1)",
            "",
            "10033",
            "52 PINEHURST AVENUE",
            "PINEHURST AVENUE",
            "W 179 ST",
            "W 180 ST",
            "",
            "",
            "ADDRESS",
            "NEW YORK",
            "",
            "",
            "Closed",
            "",
            "The Department of Environmental Protection investigated this complaint and shut the \\\n             running hydrant.",
            "10/26/2020 02:30:00 AM",
            "12 MANHATTAN",
            "1021770161",
            "MANHATTAN",
            "1000926",
            "248966",
            "ONLINE",
            "Unspecified",
            "MANHATTAN",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "40.85001341890072",
            "-73.93972316718485",
            "(40.85001341890072",
            "-73.93972316718485)"
          ]
        ]
      }
    }
  ]
}