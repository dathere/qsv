{
  "skill": "qsv-template",
  "version": "12.0.0",
  "examples": [
    {
      "name": "template_basic",
      "description": "Template Basic",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      },
      "tags": [
        "basic"
      ]
    },
    {
      "name": "template_no_headers",
      "description": "Template No Headers",
      "command": "qsv template data.csv --template-file template.txt --no-headers",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt",
        "--no-headers": "true"
      },
      "tags": [
        "no-headers"
      ]
    },
    {
      "name": "template_string",
      "description": "Template String",
      "command": "qsv template data.csv --template \"{{name}} is {{age}} years old\\\\n\\\\n\"",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template": "{{name}} is {{age}} years old\\n\\n"
      }
    },
    {
      "name": "template_custom_delimiter",
      "description": "Template Custom Delimiter",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      },
      "tags": [
        "custom-delimiter"
      ]
    },
    {
      "name": "template_with_filters",
      "description": "Template With Filters",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_with_conditionals",
      "description": "Template With Conditionals",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_missing_field",
      "description": "Template Missing Field",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_empty_input",
      "description": "Template Empty Input",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_with_loops",
      "description": "Template With Loops",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_error_missing_template",
      "description": "Template Error Missing Template",
      "command": "qsv template data.csv --template-file nonexistent.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "nonexistent.txt"
      },
      "tags": [
        "error-handling"
      ]
    },
    {
      "name": "template_with_whitespace_control",
      "description": "Template With Whitespace Control",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_output_file",
      "description": "Template Output File",
      "command": "qsv template --template-file template.txt --output data.csv",
      "options": {
        "--template-file": "template.txt",
        "--output": "data.csv"
      }
    },
    {
      "name": "template_output_directory",
      "description": "Template Output Directory",
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_output_custom_filename",
      "description": "Template Output Custom Filename",
      "command": "qsv template data.csv --template-file template.txt --outfilename \"{{name}}_greeting-{{ QSV_ROWNO }}.txt\"",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt",
        "--outfilename": "{{name}}_greeting-{{ QSV_ROWNO }}.txt"
      }
    },
    {
      "name": "template_output_directory_no_headers",
      "description": "Template Output Directory No Headers",
      "command": "qsv template --template-file template.txt --no-headers data.csv",
      "options": {
        "--template-file": "template.txt",
        "--no-headers": "data.csv"
      },
      "tags": [
        "no-headers"
      ]
    },
    {
      "name": "template_custom_filters",
      "description": "Template Custom Filters",
      "input": {
        "data": [
          [
            "name",
            "amount",
            "bytes",
            "score",
            "active"
          ],
          [
            "John",
            "1234567",
            "1048576",
            "3.14159265358979323846",
            "yes"
          ],
          [
            "Jane",
            "7654321.04",
            "1073741824",
            "2.71828",
            "no"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_inline",
      "description": "Template Inline",
      "input": {
        "data": [
          [
            "name",
            "age"
          ],
          [
            "Alice",
            "25"
          ],
          [
            "Bob",
            "30"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --template \"Hello {{name}}, you are {{age}} years old!\\\\n\\\\n\"",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template": "Hello {{name}}, you are {{age}} years old!\\n\\n"
      }
    },
    {
      "name": "template_conditional",
      "description": "Template Conditional",
      "input": {
        "data": [
          [
            "name",
            "age"
          ],
          [
            "Alice",
            "17"
          ],
          [
            "Bob",
            "21"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --template-file template.txt",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template-file": "template.txt"
      }
    },
    {
      "name": "template_render_error",
      "description": "Template Render Error",
      "input": {
        "data": [
          [
            "name",
            "age"
          ],
          [
            "Alice",
            "25"
          ],
          [
            "Bob",
            "30"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --template \"Hello {{name}, invalid syntax!\"",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template": "Hello {{name}, invalid syntax!"
      },
      "tags": [
        "error-handling"
      ]
    },
    {
      "name": "template_filter_error",
      "description": "Template Filter Error",
      "input": {
        "data": [
          [
            "name",
            "amount"
          ],
          [
            "Alice",
            "not_a_number"
          ],
          [
            "Bob",
            "123.45"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv data.csv data.csv --template \"{{name}}: {{amount|format_float(2)}}\\\\n\\\\n\" --customfilter-error \"<empty string>\"",
      "args": [
        "data.csv",
        "data.csv",
        "data.csv"
      ],
      "options": {
        "--template": "{{name}}: {{amount|format_float(2)}}\\n\\n",
        "--customfilter-error": "<empty string>"
      },
      "tags": [
        "error-handling"
      ]
    },
    {
      "name": "template_contrib_filters",
      "description": "Template Contrib Filters",
      "input": {
        "data": [
          [
            "text",
            "num",
            "datalist",
            "url"
          ],
          [
            "hello WORLD",
            "12345.6789",
            "a",
            "b",
            "c",
            "https://example.com/path?q=test&lang=en"
          ],
          [
            "Testing 123",
            "-98765.4321",
            "1",
            "2",
            "3",
            "http://localhost:8080/api"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template --template data.csv",
      "options": {
        "--template": "data.csv"
      }
    },
    {
      "name": "template_contrib_functions",
      "description": "Template Contrib Functions",
      "input": {
        "data": [
          [
            "num_messages",
            "date_col"
          ],
          [
            "1",
            "2023-06-24T16:37:22+00:00"
          ],
          [
            "2",
            "1999-12-24T16:37:22+12:00"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template --template data.csv",
      "options": {
        "--template": "data.csv"
      }
    },
    {
      "name": "template_pycompat_filters",
      "description": "Template Pycompat Filters",
      "input": {
        "data": [
          [
            "text",
            "num",
            "mixed"
          ],
          [
            "Hello World!",
            "123",
            "ABC123xyz  "
          ],
          [
            "TESTING",
            "abc",
            "  Hello  "
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template --template data.csv",
      "options": {
        "--template": "data.csv"
      }
    },
    {
      "name": "template_custom_filters_error_handling",
      "description": "Template Custom Filters Error Handling",
      "input": {
        "data": [
          [
            "value",
            "number"
          ],
          [
            "abc",
            "1234567.890123"
          ],
          [
            "def",
            "not_a_number"
          ],
          [
            "ghi",
            "7654321.04"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv data.csv --customfilter-error \"<empty string>\"",
      "args": [
        "data.csv",
        "data.csv"
      ],
      "options": {
        "--customfilter-error": "<empty string>"
      },
      "tags": [
        "error-handling"
      ]
    },
    {
      "name": "template_to_bool_filter",
      "description": "Template To Bool Filter",
      "input": {
        "data": [
          [
            "value"
          ],
          [
            "true"
          ],
          [
            "yes"
          ],
          [
            "1"
          ],
          [
            "0"
          ],
          [
            "false"
          ],
          [
            "no"
          ],
          [
            "42.032"
          ],
          [
            "0.0"
          ],
          [
            "kinda true"
          ],
          [
            "kinda false"
          ],
          [
            "dunno"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --template \"{% if value|to_bool %}true{% else %}false{% endif %}\\\\n\\\\n\"",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template": "{% if value|to_bool %}true{% else %}false{% endif %}\\n\\n"
      }
    },
    {
      "name": "template_substr_filter",
      "description": "Template Substr Filter",
      "input": {
        "data": [
          [
            "text"
          ],
          [
            "Hello World"
          ],
          [
            "Testing 123"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --customfilter-error ERROR",
      "args": [
        "data.csv"
      ],
      "options": {
        "--customfilter-error": "ERROR"
      }
    },
    {
      "name": "template_lookup_filter_simple",
      "description": "Template Lookup Filter Simple",
      "input": {
        "data": [
          [
            "id",
            "name",
            "description"
          ],
          [
            "1",
            "apple",
            "A red fruit"
          ],
          [
            "2",
            "banana",
            "A yellow fruit"
          ],
          [
            "3",
            "orange",
            "A citrus fruit"
          ]
        ],
        "filename": "lookup.csv"
      },
      "command": "qsv template data.csv --customfilter-error \"<not found>\"",
      "args": [
        "data.csv"
      ],
      "options": {
        "--customfilter-error": "<not found>"
      }
    },
    {
      "name": "template_lookup_filter_invalid_field",
      "description": "Template Lookup Filter Invalid Field",
      "input": {
        "data": [
          [
            "id",
            "name",
            "description"
          ],
          [
            "1",
            "apple",
            "A red fruit"
          ],
          [
            "2",
            "banana",
            "A yellow fruit"
          ],
          [
            "3",
            "orange",
            "A citrus fruit"
          ]
        ],
        "filename": "lookup.csv"
      },
      "command": "qsv template data.csv --customfilter-error \"<not found>\"",
      "args": [
        "data.csv"
      ],
      "options": {
        "--customfilter-error": "<not found>"
      }
    },
    {
      "name": "template_lookup_filter_errors",
      "description": "Template Lookup Filter Errors",
      "input": {
        "data": [
          [
            "id"
          ],
          [
            "1"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv data.csv data.csv --template \"{{id|lookup('non_existent lookup', 'name')}}\"",
      "args": [
        "data.csv",
        "data.csv",
        "data.csv"
      ],
      "options": {
        "--template": "{{id|lookup('non_existent lookup', 'name')}}"
      },
      "tags": [
        "error-handling"
      ]
    },
    {
      "name": "template_lookup_register_errors",
      "description": "Template Lookup Register Errors",
      "input": {
        "data": [
          [
            "id"
          ],
          [
            "1"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template --template data.csv",
      "options": {
        "--template": "data.csv"
      },
      "tags": [
        "error-handling"
      ]
    },
    {
      "name": "template_lookup_case_sensitivity",
      "description": "Template Lookup Case Sensitivity",
      "input": {
        "data": [
          [
            "code",
            "value"
          ],
          [
            "ABC",
            "first"
          ],
          [
            "def",
            "second"
          ],
          [
            "GHI",
            "third"
          ]
        ],
        "filename": "lookup.csv"
      },
      "command": "qsv template --template data.csv",
      "options": {
        "--template": "data.csv"
      },
      "tags": [
        "case-sensitivity"
      ]
    },
    {
      "name": "template_humanfloat_filter",
      "description": "Template Humanfloat Filter",
      "input": {
        "data": [
          [
            "number"
          ],
          [
            "1234.5678"
          ],
          [
            "1000000"
          ],
          [
            "123456789.3145679"
          ],
          [
            "0.0001"
          ],
          [
            "not_a_number"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --template \"{{number|human_float_count}}\\\\n\\\\n\" --customfilter-error ERROR",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template": "{{number|human_float_count}}\\n\\n",
        "--customfilter-error": "ERROR"
      }
    },
    {
      "name": "template_round_banker_filter",
      "description": "Template Round Banker Filter",
      "input": {
        "data": [
          [
            "number"
          ],
          [
            "1.234567"
          ],
          [
            "2.5467"
          ],
          [
            "3.5"
          ],
          [
            "not_a_number"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --customfilter-error ERROR",
      "args": [
        "data.csv"
      ],
      "options": {
        "--customfilter-error": "ERROR"
      }
    },
    {
      "name": "template_globals_json",
      "description": "Template Globals Json",
      "input": {
        "data": [
          [
            "name",
            "score"
          ],
          [
            "Alice",
            "85"
          ],
          [
            "Bob",
            "92"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --globals-json globals.json",
      "args": [
        "data.csv"
      ],
      "options": {
        "--globals-json": "globals.json"
      }
    },
    {
      "name": "template_globals_json_invalid",
      "description": "Template Globals Json Invalid",
      "input": {
        "data": [
          [
            "name"
          ],
          [
            "test"
          ]
        ],
        "filename": "data.csv"
      },
      "command": "qsv template data.csv --template \"{{name}}\\\\n\" --globals-json invalid.json",
      "args": [
        "data.csv"
      ],
      "options": {
        "--template": "{{name}}\\n",
        "--globals-json": "invalid.json"
      }
    }
  ]
}