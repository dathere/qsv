{
  "name": "qsv-datefmt",
  "version": "12.0.0",
  "description": "Formats recognized date fields (19 formats recognized) to a specified date format using strftime date format specifiers. For recognized date formats, see https://github.com/dathere/qsv-dateparser?tab=readme-ov-file#accepted-date-formats See https://docs.rs/chrono/latest/chrono/format/strftime/ for accepted date format specifiers for --formatstr. Defaults to ISO 8601/RFC 3339 format when --formatstr is not specified. ( \"%Y-%m-%dT%H:%M:%S%z\" - e.g. 2001-07-08T00:34:60.026490+09:30 )",
  "category": "transformation",
  "command": {
    "binary": "qsv",
    "subcommand": "datefmt",
    "args": [
      {
        "name": "column",
        "type": "string",
        "required": true,
        "description": "The column/s to apply the date formats to. Note that the <column> argument supports multiple columns. See 'qsv select --help' for the format details."
      },
      {
        "name": "input",
        "type": "file",
        "required": true,
        "description": "The input file to read from. If not specified, reads from stdin."
      }
    ],
    "options": [
      {
        "flag": "--new-column",
        "short": "-c",
        "type": "string",
        "description": "Put the transformed values in a new column instead."
      },
      {
        "flag": "--rename",
        "short": "-r",
        "type": "string",
        "description": "New name for the transformed column."
      },
      {
        "flag": "--prefer-dmy",
        "type": "flag",
        "description": "Prefer to parse dates in dmy format. Otherwise, use mdy format."
      },
      {
        "flag": "--keep-zero-time",
        "type": "flag",
        "description": "If a formatted date ends with \"T00:00:00+00:00\", keep the time instead of removing it."
      },
      {
        "flag": "--input-tz=<string>",
        "type": "string",
        "description": "The timezone to use for the input date if the date does not have timezone specified. The timezone must be a valid IANA timezone name or the string \"local\" for the local timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for a list of valid timezone names. [default: UTC]",
        "default": "UTC"
      },
      {
        "flag": "--output-tz=<string>",
        "type": "string",
        "description": "The timezone to use for the output date. The timezone must be a valid IANA timezone name or the string \"local\". [default: UTC]",
        "default": "UTC"
      },
      {
        "flag": "--default-tz=<string>",
        "type": "string",
        "description": "The timezone to use for BOTH input and output dates when they do have timezone. Shortcut for --input-tz and --output-tz set to the same timezone. The timezone must be a valid IANA timezone name or the string \"local\"."
      },
      {
        "flag": "--utc",
        "type": "flag",
        "description": "Shortcut for --input-tz and --output-tz set to UTC."
      },
      {
        "flag": "--zulu",
        "type": "flag",
        "description": "Shortcut for --output-tz set to UTC and --formatstr set to \"%Y-%m-%dT%H:%M:%SZ\"."
      },
      {
        "flag": "--ts-resolution",
        "short": "-R",
        "type": "string",
        "description": "The resolution to use when parsing Unix timestamps. Valid values are \"sec\", \"milli\", \"micro\", \"nano\". [default: sec]",
        "default": "sec"
      },
      {
        "flag": "--jobs",
        "short": "-j",
        "type": "string",
        "description": "The number of jobs to run in parallel. When not set, the number of jobs is set to the number of CPUs detected."
      },
      {
        "flag": "--batch",
        "short": "-b",
        "type": "string",
        "description": "The number of rows per batch to load into memory, before running in parallel. Automatically determined for CSV files with more than 50000 rows. Set to 0 to load all rows in one batch. Set to 1 to force batch optimization even for files with less than 50000 rows. [default: 50000]",
        "default": "50000"
      },
      {
        "flag": "--help",
        "short": "-h",
        "type": "flag",
        "description": "Display this message"
      },
      {
        "flag": "--output",
        "short": "-o",
        "type": "string",
        "description": "Write output to <file> instead of stdout."
      },
      {
        "flag": "--no-headers",
        "short": "-n",
        "type": "flag",
        "description": "When set, the first row will not be interpreted as headers."
      },
      {
        "flag": "--delimiter",
        "short": "-d",
        "type": "string",
        "description": "The field delimiter for reading CSV data. Must be a single character. (default: ,)"
      },
      {
        "flag": "--progressbar",
        "short": "-p",
        "type": "flag",
        "description": "Show progress bars. Not valid for stdin."
      }
    ]
  },
  "examples": [
    {
      "description": "'Open Date' file.csv",
      "command": "qsv datefmt 'Open Date' file.csv"
    },
    {
      "description": "'Open Date,Modified Date,Closed Date' file.csv",
      "command": "qsv datefmt 'Open Date,Modified Date,Closed Date' file.csv"
    },
    {
      "description": "'/(?i)_date$/' file.csv",
      "command": "qsv datefmt '/(?i)_date$/' file.csv"
    },
    {
      "description": "OpenDate --formatstr '%Y-%m-%d' file.csv",
      "command": "qsv datefmt OpenDate --formatstr '%Y-%m-%d' file.csv"
    },
    {
      "description": "OpenDate,CloseDate,ReopenDate --formatstr '%Y-%m-%d' file.csv",
      "command": "qsv datefmt OpenDate,CloseDate,ReopenDate --formatstr '%Y-%m-%d' file.csv"
    },
    {
      "description": "OpenDate --formatstr '%V' --new-column week_number file.csv",
      "command": "qsv datefmt OpenDate --formatstr '%V' --new-column week_number file.csv"
    },
    {
      "description": "OpenDate,CloseDate --formatstr '%u' --rename Open_weekday,Close_weekday file.csv",
      "command": "qsv datefmt OpenDate,CloseDate --formatstr '%u' --rename Open_weekday,Close_weekday file.csv"
    }
  ],
  "hints": {
    "streamable": true,
    "memory": "constant"
  },
  "test_file": "https://github.com/dathere/qsv/blob/master/tests/test_datefmt.rs"
}