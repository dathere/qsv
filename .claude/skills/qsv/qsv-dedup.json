{
  "name": "qsv-dedup",
  "version": "13.0.0",
  "description": "Deduplicates CSV rows. This requires reading all of the CSV data into memory because because the rows need to be sorted first. That is, unless the --sorted option is used to indicate the CSV is already sorted - typically, with the sort cmd for more sorting options or the extsort cmd for larger than memory CSV files. This will make dedup run in streaming mode with constant memory. Either way, the output will not only be deduplicated, it will also be sorted. A duplicate count will also be sent to <stderr>. For examples, see https://github.com/dathere/qsv/blob/master/tests/test_dedup.rs.",
  "category": "utility",
  "command": {
    "binary": "qsv",
    "subcommand": "dedup",
    "args": [
      {
        "name": "input",
        "type": "file",
        "required": true,
        "description": ""
      }
    ],
    "options": [
      {
        "flag": "--delimiter",
        "type": "string",
        "description": "The field delimiter for reading CSV data. Must be a single character. (default: ,)"
      },
      {
        "flag": "--dupes-output",
        "type": "string",
        "description": "Write duplicates to <file>."
      },
      {
        "flag": "--help",
        "type": "flag",
        "description": "Display this message"
      },
      {
        "flag": "--human-readable",
        "type": "flag",
        "description": "Comma separate duplicate count."
      },
      {
        "flag": "--ignore-case",
        "type": "flag",
        "description": "Compare strings disregarding case."
      },
      {
        "flag": "--jobs",
        "type": "string",
        "description": "The number of jobs to run in parallel when sorting an unsorted CSV, before deduping. When not set, the number of jobs is set to the number of CPUs detected. Does not work with --sorted option as its not multithreaded."
      },
      {
        "flag": "--memcheck",
        "type": "flag",
        "description": "Check if there is enough memory to load the entire CSV into memory using CONSERVATIVE heuristics."
      },
      {
        "flag": "--no-headers",
        "type": "flag",
        "description": "When set, the first row will not be interpreted as headers. That is, it will be sorted with the rest of the rows. Otherwise, the first row will always appear as the header row in the output."
      },
      {
        "flag": "--numeric",
        "type": "flag",
        "description": "Compare according to string numerical value"
      },
      {
        "flag": "--output",
        "type": "string",
        "description": "Write output to <file> instead of stdout."
      },
      {
        "flag": "--quiet",
        "type": "flag",
        "description": "Do not print duplicate count to stderr."
      },
      {
        "flag": "--select",
        "type": "string",
        "description": "Select a subset of columns to dedup. Note that the outputs will remain at the full width of the CSV. See 'qsv select --help' for the format details."
      },
      {
        "flag": "--sorted",
        "type": "flag",
        "description": "The input is already sorted. Do not load the CSV into memory to sort it first. Meant to be used in tandem and after an extsort."
      }
    ]
  },
  "hints": {
    "streamable": true,
    "memory": "constant"
  },
  "test_file": "https://github.com/dathere/qsv/blob/master/tests/test_dedup.rs"
}