{
  "name": "qsv-extdedup",
  "version": "13.0.0",
  "description": "Remove duplicate rows from an arbitrarily large CSV/text file using a memory-mapped, on-disk hash table. Unlike the 'dedup' command, this command does not load the entire file into memory to sort the CSV first before deduping it. This allows it to run in constant memory and the output will retain the input sort order. This command has TWO modes of operation. * CSV MODE when --select is set, it dedupes based on the given column/s. See `qsv select --help` for select syntax details. * LINE MODE when --select is NOT set, it deduplicates any input text file (not just CSVs) on a line-by-line basis. A duplicate count will be sent to <stderr>.",
  "category": "utility",
  "command": {
    "binary": "qsv",
    "subcommand": "extdedup",
    "args": [
      {
        "name": "input",
        "type": "file",
        "required": true,
        "description": ""
      },
      {
        "name": "output",
        "type": "string",
        "required": true,
        "description": ""
      }
    ],
    "options": [
      {
        "flag": "--delimiter",
        "type": "string",
        "description": "The field delimiter for reading CSV data. Must be a single character. (default: ,)"
      },
      {
        "flag": "--dupes-output",
        "type": "string",
        "description": "Write duplicates to <file>. Note that the file will NOT be a valid CSV. It is a list of duplicate lines, with the row number of the duplicate separated by a tab from the duplicate line itself."
      },
      {
        "flag": "--help",
        "type": "flag",
        "description": "Display this message"
      },
      {
        "flag": "--human-readable",
        "type": "flag",
        "description": "Comma separate duplicate count."
      },
      {
        "flag": "--memory-limit",
        "type": "string",
        "description": "The maximum amount of memory to buffer the on-disk hash table. If less than 50, this is a percentage of total memory. If more than 50, this is the memory in MB to allocate, capped at 90 percent of total memory. [default: 10]",
        "default": "10"
      },
      {
        "flag": "--no-headers",
        "type": "flag",
        "description": "When set, the first row will not be interpreted as headers. That is, it will be deduped with the rest of the rows. Otherwise, the first row will always appear as the header row in the output."
      },
      {
        "flag": "--no-output",
        "type": "flag",
        "description": "Do not write deduplicated output to <output>. Use this if you only want to know the duplicate count."
      },
      {
        "flag": "--quiet",
        "type": "flag",
        "description": "Do not print duplicate count to stderr."
      },
      {
        "flag": "--select",
        "type": "string",
        "description": "Select a subset of columns to dedup. Note that the outputs will remain at the full width of the CSV. If --select is NOT set, extdedup will work in LINE MODE, deduping the input as a text file on a line-by-line basis."
      },
      {
        "flag": "--temp-dir",
        "type": "string",
        "description": "Directory to store temporary hash table file. If not specified, defaults to operating system temp directory."
      }
    ]
  },
  "hints": {
    "streamable": true,
    "memory": "constant"
  },
  "test_file": "https://github.com/dathere/qsv/blob/master/tests/test_extdedup.rs"
}