{
  "name": "qsv-transpose",
  "version": "16.0.0",
  "description": "Transpose rows/columns of a CSV.",
  "category": "transformation",
  "command": {
    "subcommand": "transpose",
    "args": [
      {
        "name": "input",
        "type": "file",
        "required": true,
        "description": ""
      }
    ],
    "options": [
      {
        "flag": "--delimiter",
        "type": "string",
        "description": "The field delimiter for reading CSV data. Must be a single character. (default: ,)"
      },
      {
        "flag": "--long",
        "type": "string",
        "description": "Convert wide-format CSV to \"long\" format. Output format is three columns: field, attribute, value. Empty values are skipped. Mutually exclusive with --multipass."
      },
      {
        "flag": "--memcheck",
        "type": "flag",
        "description": "Check if there is enough memory to load the entire CSV into memory using CONSERVATIVE heuristics. Ignored when --multipass or --long option is enabled."
      },
      {
        "flag": "--multipass",
        "type": "flag",
        "description": "Process the transpose by making multiple passes over the dataset. Consumes memory relative to the number of rows. Note that in general it is faster to process the transpose in memory. Useful for really big datasets as the default is to read the entire dataset into memory."
      },
      {
        "flag": "--output",
        "type": "string",
        "description": "Write output to <file> instead of stdout."
      },
      {
        "flag": "--select",
        "type": "string",
        "description": "Select a subset of columns to transpose. When used with --long, this filters which columns become attribute rows (the field columns are unaffected). See 'qsv select --help' for the full selection syntax."
      }
    ]
  },
  "hints": {
    "streamable": false,
    "memory": "full"
  },
  "examples": [
    {
      "description": "Transpose data in-memory.",
      "command": "qsv transpose data.csv"
    },
    {
      "description": "Transpose data using multiple passes. For large datasets.",
      "command": "qsv transpose data.csv --multipass"
    },
    {
      "description": "Convert CSV to \"long\" format using the first column as the \"field\" identifier",
      "command": "qsv transpose data.csv --long 1"
    },
    {
      "description": "use the columns \"name\" & \"age\" as the \"field\" identifier",
      "command": "qsv transpose --long \"name,age\" data.csv"
    },
    {
      "description": "use the columns 1 & 3 as the \"field\" identifier",
      "command": "qsv transpose --long 1,3 data.csv"
    },
    {
      "description": "use the columns 1 to 3 as the \"field\" identifier",
      "command": "qsv transpose --long 1-3 data.csv"
    },
    {
      "description": "use all columns starting with \"name\" as the \"field\" identifier",
      "command": "qsv transpose --long /^name/ data.csv"
    }
  ]
}