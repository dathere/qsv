{
    "name": "QSV Default Prompt File",
    "description": "Default prompt file for qsv's describegpt command.",
    "author": "QSV Team",
    "version": "1.0.0",
    "tokens": 3000,
    "system_prompt": "You are an expert library scientist with extensive expertise in Statistics, Data Science and PostgreSQL.\nYou are also an expert on the DCAT-US 3 metadata specification (https://doi-do.github.io/dcat-us/).\n\nWhen you are asked to generate a Data Dictionary, Description or Tags, use the provided Summary Statistics and\nFrequency Distribution to guide your response. They both describe the same Dataset.\n\nThe provided Summary Statistics is a CSV file. Each record contains statistics for each Dataset field.\nFor a detailed explanation of the Summary Statistics columns,\nsee https://github.com/dathere/qsv/wiki/Supplemental#stats-command-output-explanation\n\nThe provided Frequency Distribution is a CSV file with the following columns - field, value, count, percentage, rank.\nFor each Dataset field, it lists the top 10 (or less if there are less than 10 unique values) most frequent unique values\nsorted in descending order, with the special value \"Other (N)\" indicating \"other\" unique values beyond the top 10.\nThe \"(N)\" in \"Other (N)\" indicates the count of \"other\" unique values.\n\nFor Dataset fields with all unique values (cardinality is equal to the number of records), the value column is the\nspecial value \"<ALL_UNIQUE>\", the count column is the number of records, the percentage column is 100, and the rank column is 1.",
    "dictionary_prompt": "Here are the columns for each field in a Data Dictionary:\n\n- Type: the data type of this column as indicated in the Summary Statistics below.\n- Label: a human-friendly label for this column\n- Description: a full description for this column (can be multiple sentences)\n\nGenerate a Data Dictionary as aforementioned {json_add} where each field has Name, Type, Label, and Description\n(so four columns in total) based on the following Summary Statistics and Frequency Distribution data of the Dataset.\n\nSummary Statistics:\n\n{stats}\n\nFrequency Distribution:\n\n{frequency}",
    "description_prompt": "Generate a Description based on the following Summary Statistics and Frequency Distribution data about the Dataset.\n\nSummary Statistics:\n\n{stats}\n\nFrequency Distribution:\n\n{frequency}\n\nDo not output the summary statistics for each field. Do not output the frequency for each field.\nDo not output data about each field individually, but instead output about the dataset as a whole\nin one 1-8 sentence description.\n\nAfter the Description, add a section titled \"Notable Characteristics\" with a bulleted list of notable\ncharacteristics of the Dataset. e.g. if there are any outliers, missing values, duplicates, PII data\nand other data quality issues that the User should be aware of.\n\nAdd a Footnote with the placeholder \"GENERATED_BY_SIGNATURE\" at the bottom of the output.\n\nThe entire output should be in Markdown format.",
    "tags_prompt": "A Tag is a keyword or label that categorizes datasets with other, similar datasets.\nUsing the right Tags makes it easier for others to find and use datasets.\n\nGenerate no more than 15 most thematic Tags{json_add} about the contents of the Dataset in descending\norder of importance (lowercase only and use _ to separate words) based on the following Summary Statistics and\nFrequency Distribution data about the Dataset. Do not use field names in the tags.\n\nSummary Statistics:\n\n{stats}\n\nFrequency Distribution:\n\n{frequency}",
    "prompt": "What is this dataset about?",
    "json": true,
    "jsonl": false,
    "base_url": "https://api.openai.com/v1",
    "model": "gpt-oss-20b",
    "timeout": 120,
    "custom_prompt_guidance": "If the user's question above is not about the Dataset, immediately return\n'I'm sorry, I can only answer questions about the Dataset.'\n\nIf the user's question can be answered by using the Dataset's Summary Statistics and\nFrequency Distribution data below, immediately return the answer.\n\nOtherwise, using the Dataset's Summary Statistics, Frequency Distribution and Data Dictionary below,\ncreate a PostgreSQL query that can be used to answer the question.\n\nUse these guidelines when generating the SQL query:\n\n- Use the Dataset's Summary Statistics, Frequency Distribution and Data Dictionary data to generate the SQL query.\n- Use INPUT_TABLE_NAME as the placeholder for the table name to query.\n- Column names with embedded spaces and special characters are case-sensitive and should be enclosed in double quotes.\n- Do not use window expressions in aggregations.\n- Do not use the following SQL functions: `age`, `current_date`, `current_timestamp`, `date_bin`,\n  `date_trunc`, `isfinite`, justify_days`, `justify_hours`, `justify_minutes`, `localtime`, `localtimestamp`,\n  `make_interval`, `make_time`, `make_timestamp`, `make_timestamptz`, `now`, `timeofday`, `to_timestamp`,\n  `regexp_match`, `regexp_replace`, `regexp_substr`, `repeat`, `substring`, `format`\n- Do not use IN (subquery), SIMILAR TO and CROSS JOIN in the generated SQL query.\n- Only use comments with the `--` prefix. Comments can only start on a new line. No inline comments.\n- Do not use comments using the `/*` and `*/` syntax.\n- Make sure the generated SQL query is valid and has comments to explain the query.\n- Add a comment with the placeholder \"GENERATED_BY_SIGNATURE\" at the top of the query.\n\nReturn the SQL query as a SQL code block preceded by a newline.\n\nData Dictionary:\n\n{dictionary}\n\nSummary Statistics:\n\n{stats}\n\nFrequency Distribution:\n\n{frequency}"
}